#!/bin/env bash
export POLYBAR_CONFIG=$1
export WIRELESS_NIC=$(ip -j link | jq -r '.[].ifname' | grep wlp | head -n 1)
export ETHERNET_NIC=$(ip -j link | jq -r '.[].ifname' | grep enp | head -n 1)

echo "+ Killing existing instances of polybar..."
killall -q polybar

echo "+ Settings:"
echo "+ Current Directory: $(pwd)"
echo "+ Configuration: ${POLYBAR_CONFIG}"
echo "+ Wireless NIC: ${WIRELESS_NIC}"
echo "+ Ethernet NIC: ${ETHERNET_NIC}"

echo "+ Starting Polybar with Settings..."
polybar hud -c $POLYBAR_CONFIG & disown


